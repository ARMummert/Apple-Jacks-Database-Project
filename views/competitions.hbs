<!-- competitions.hbs -->

<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>

<body>

<h3 class=padtop >Competitions</h3>

<section class="sectionone">
{{! Create a table }}

    <table id="competitions-table" class="tableone" border="1" cellpadding="5" >
        {{! Header section }}

        <thead>
              <tr>
                {{#each data.[0]}}
                <th>{{@key}}</th>
                {{/each}}    
            </tr>
        </thead>
        {{! Body section }}
        <tbody>
            {{#each data}}
            <tr data-value={{this.id}}>
                <td>{{this.competitionID}}</td>
                <td>{{this.competitionName}}</td>
                <td>{{this.date}}</td>
                <td>{{this.startTime}}</td>
                <td>{{this.locationName}}</td>
                <td>{{this.locationAddress}}</td>
                <td>{{this.locationPhone}}</td>
                <td><button onClick="deleteCompetition()"/>Delete</button>
                        
            </tr>   
            {{/each}}
        </tbody>
    </table>
</section>   


    <section class="sectiontwo">
        <h3 class="section-header">Search By Competition Name</h3>
        <form id='competitions' method='GET'>
            <table class="tabletwo">
                <tr>
                    <td><input type="text" name="competitionName" id="input-competition-name" placeholder="Competition Name..."></td>
                </tr>
            </table>
            <div class="tabletwo">
                <input type="submit" value="Search">
                <input type="reset" value="Cancel">
            </div>
            
        </form>
    </section>

        

    <section class="sectionthree">
        <h3 class="section-header"> Add Competition </h3>
        <form id="add-competition-ajax" method="POST">         
            <table class="tablethree">
                
                <tr>
                    <td><label for="input-competition-name">Name</label></td> 
                    <td><input type="text" name="input-competition-name" id="input-competition-name" required  placeholder="Competition Name"></td>
                       
                </tr>
                <tr>
                    <td><label for="input-date">Date</label></td> 
                    <td><input type="date" name="input-date" id="input-date" required placeholder="Date"></td>
                        
                </tr>
                <tr>
                    <td><label for="input-start-time">Start Time</label></td> 
                    <td><input type="time" name="input-start-time" id="input-start-time" required placeholder="Start Time"></td>     
                </tr>
                <tr>
                    <td><label for="input-location-name">Location Name </label></td> 
                    <td><input type="text" name="input-location-name" id="input-location-name" required placeholder="Location Name"></td>
                </tr>
                <tr>
                    <td><label for="input-location-address">Address </label></td> 
                    <td><input type="text" name="input-location-address" id="input-location-address" required placeholder="Location Address"></td>
                        
                </tr>
                <tr>
                    <td><label for="input-location-phone">Phone</label></td> 
                    <td><input type="text" name="input-location-phone" id="input-location-phone" required placeholder="Location Phone"></td>
                </tr>
                <tr>
                    <td><input type="submit" value="Add"></td>
                    <td><input type="reset" value="Cancel"></td>
                </tr>
            </table>
        </form>
    </section>

        
        

    <section class="sectionfour">
        <form id="updateCompetitionForm" method="PUT">
            <h3 class="section-header"> Update Competition </h3>
                <table class="tablefour">
                    <tr>
                        <td><label>Select Competition to Update:</label></td>
                        <td><select>
                            <option value="">Select a Competition</option>
                            {{#each data}}
                            <option value="{{this.competitionID}}">{{this.competitionName}}</option>
                            {{/each}}
                        </select>
                        </td>
                    </tr>
                    <tr>
                        <td><label for="update-competition-name">Name:</label></td>
                        <td><input type="text" name="update-competition-name" id="update-competition-name" placeholder="Competition Name"></td>     
                    </tr>
                    <tr>
                        <td><label for="update-date" >Date: </label></td>
                        <td><input type="text" name="update-date" id="update-date" placeholder="Date"></td>
                    </tr>
                    <tr>
                        <td><label for="update-start-time" >Start Time: </label></td>
                        <td><input type="text" name="update-start-time" id="update-start-time" placeholder="Start Time"></td>
                    </tr>
                    <tr>
                        <td><label for="update-location-name" >Location Name: </label></td>
                        <td><input type="text" name="update-location-name" id="update-location-name" placeholder="Location Name"></td>
                    </tr>
                    <tr>
                        <td><label for="update-location-address" >Address:</label></td>
                        <td><input type="text" name="update-location-address" id="update-location-address" placeholder="Address"></td>
                    </tr>
                    <tr>
                        <td><label for="update-location-phone" >Phone: </label></td>
                        <td><input type="text" name="update-location-phone" id="update-location-phone" placeholder="Phone"></td>
                    </tr>
                    <tr>
                        <td><input onclick-"updateCompetitionForm()" type="submit" value="Update Competition"></td>
                        <td><a href='/competitions'><input type="reset" value="Cancel"></a></td>
                    </tr>
                </table>
        </form>
    </section>
            

    <section class="sectionfive">
        <h3 class="section-header">Delete Competition</h3>
            <form id="delete-competition-ajax" method="DELETE">
                <table class="tablefive">
                    <tr>
                        <td><select>
                            <option value="">Select a Competition</option>
                            {{#each data}}
                            <option value="{{this.competitionID}}">{{this.competitionID}} - {{this.competitionName}}</option>
                            {{/each}}
                        </select></td>
                    </tr>
                    <tr>
                        <td>Are you sure you want to delete this competition?</td>       
                    </tr>
                    <tr>
                        <td><input
                            class="deleteCompetition"
                            type="submit"
                            id="deleteCompetition"
                            value="Delete Competition"
                        />
                    <input type="reset" value="Cancel"></a></td>
                    </tr>
                </table>
            </form> 
</body>
<script>
  function formFill(data) {
    // Update the form with the selected customer's data
    var id = data.value;
    updateCompetitionForm(competitionID)
    };
      function formFill(data) {
    // Update the form with the selected customer's data
    var id = data.value;
    updateCompetitionForm(update-competition-form)
    };

    const btn = document.getElementById('btn');

   function showForm() {
        document.getElementById("showtable").style.display = "block";
    }
});

</script>
</script>
<script src="./js/delete_competition.js"></script>
<script src="./js/update_competition.js"></script>
<script src="./js/add_competition.js"></script>



